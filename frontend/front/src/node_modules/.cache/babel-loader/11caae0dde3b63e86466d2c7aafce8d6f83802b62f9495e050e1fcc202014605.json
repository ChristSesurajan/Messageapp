{"ast":null,"code":"// UserSearch.js\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import API_ENDPOINT from'./../api/index.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export let rid=0;function UserSearch(){const[searchTerm,setSearchTerm]=useState('');const[users,setUsers]=useState([]);const[error,setError]=useState('');const[recid,setRecid]=useState(null);const navigate=useNavigate();const handleSearch=async()=>{try{const response=await fetch(\"\".concat(API_ENDPOINT,\"/search?name=\").concat(searchTerm));if(!response.ok){throw new Error('Failed to search users');}const data=await response.json();// console.log(data)\nsetUsers(data);setError('');}catch(error){console.error('Error searching users:',error);setUsers([]);setError(error.message);}};const handleUserClick=user=>{// Handle user click (e.g., navigate to user profile)\nsetRecid(user.id);rid=user.id;// console.log('User clicked:', user);\nnavigate('/messages');// You can add navigation to the user profile here\n// navigate(`/profile/${user.username}`);\n};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',margin:'auto',padding:'20px',boxShadow:'0px 0px 10px rgba(0, 0, 0, 0.1)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center',marginBottom:'20px',fontSize:'24px'},children:\"Search Users\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',textAlign:'center',marginBottom:'20px'},children:error}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{paddingRight:'15px',fontSize:'16px',border:'1px solid #ccc',borderRadius:'5px',marginRight:'10px'},placeholder:\"Search by user...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,style:{marginBottom:'10px',padding:'10px',fontSize:'16px',backgroundColor:'#007bff',color:'#fff',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:'0'},children:users.map(user=>/*#__PURE__*/_jsx(\"li\",{style:{color:'black',marginBottom:'10px',borderRadius:'5px',backgroundColor:'#f8f9fa',padding:'10px',boxShadow:'0px 0px 5px rgba(0, 0, 0, 0.1)'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUserClick(user),style:{color:'black',width:'100%',background:'none',border:'none',textAlign:'left',padding:'0',fontSize:'16px',cursor:'pointer'},children:user.username})},user.id))})})]});}export default UserSearch;","map":{"version":3,"names":["React","useState","useNavigate","API_ENDPOINT","jsx","_jsx","jsxs","_jsxs","rid","UserSearch","searchTerm","setSearchTerm","users","setUsers","error","setError","recid","setRecid","navigate","handleSearch","response","fetch","concat","ok","Error","data","json","console","message","handleUserClick","user","id","style","maxWidth","margin","padding","boxShadow","borderRadius","children","textAlign","marginBottom","fontSize","color","display","alignItems","type","value","onChange","e","target","paddingRight","border","marginRight","placeholder","onClick","backgroundColor","cursor","listStyle","map","width","background","username"],"sources":["D:/visualcode/myapp/frontend/front/src/api/searchus.js"],"sourcesContent":["// UserSearch.js\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport API_ENDPOINT from './../api/index.js';\r\n\r\nexport let  rid=0;\r\nfunction UserSearch() {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState('');\r\nconst [recid, setRecid] = useState(null); \r\n  const navigate = useNavigate();\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await fetch(`${API_ENDPOINT}/search?name=${searchTerm}`);\r\n      if (!response.ok) {\r\n        throw new Error('Failed to search users');\r\n      }\r\n      const data = await response.json();\r\n     // console.log(data)\r\n      setUsers(data);\r\n      setError('');  \r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n      setUsers([]);\r\n      setError(error.message);\r\n    }\r\n  };\r\n  const handleUserClick = (user) => {\r\n    // Handle user click (e.g., navigate to user profile)\r\n    setRecid(user.id);\r\n    rid=user.id;\r\n   \r\n   // console.log('User clicked:', user);\r\n    navigate('/messages')\r\n    \r\n    // You can add navigation to the user profile here\r\n    // navigate(`/profile/${user.username}`);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: '600px', margin: 'auto', padding: '20px', boxShadow: '0px 0px 10px rgba(0, 0, 0, 0.1)', borderRadius: '10px' }}>\r\n      <h1 style={{ textAlign: 'center', marginBottom: '20px', fontSize: '24px' }}>Search Users</h1>\r\n      {error && <div style={{ color: 'red', textAlign: 'center', marginBottom: '20px' }}>{error}</div>}\r\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '20px' }}>\r\n        <input\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          style={{ paddingRight: '15px', fontSize: '16px', border: '1px solid #ccc', borderRadius: '5px', marginRight: '10px' }}\r\n          placeholder=\"Search by user...\"\r\n        />\r\n        <button onClick={handleSearch} style={{ marginBottom:'10px' ,padding: '10px', fontSize: '16px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '5px', cursor: 'pointer' }}>\r\n          Search\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <ul style={{ listStyle: 'none', padding: '0' }}>\r\n          {users.map((user) => (\r\n            <li key={user.id} style={{ color:'black',marginBottom: '10px', borderRadius: '5px', backgroundColor: '#f8f9fa', padding: '10px', boxShadow: '0px 0px 5px rgba(0, 0, 0, 0.1)' }}>\r\n              <button\r\n                onClick={() => handleUserClick(user)}\r\n                style={{ color:'black',width: '100%', background: 'none', border: 'none', textAlign: 'left', padding: '0', fontSize: '16px', cursor: 'pointer' }}\r\n              >\r\n                {user.username}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default UserSearch;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}