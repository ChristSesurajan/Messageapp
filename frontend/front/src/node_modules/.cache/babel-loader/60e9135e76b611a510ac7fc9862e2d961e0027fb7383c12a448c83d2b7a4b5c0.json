{"ast":null,"code":"// components/Profile.js\nimport React,{useContext,useEffect,useState}from'react';import API_ENDPOINT from'./../api/index.js';import{UserContext}from'./../context/UserContext';import'./profile.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){const{username}=useContext(UserContext);const[profileData,setProfileData]=useState(null);const[error,setError]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchData=async()=>{//console.log(username)\ntry{const response=await fetch(\"\".concat(API_ENDPOINT,\"/profile/\").concat(username),{method:'GET',headers:{'Content-Type':'application/json'}});if(response.ok){const data=await response.json();//console.log(data)\nsetProfileData(data);//console.log(profileData);\n}else{const errorData=await response.json();setError(errorData.message);}}catch(error){setError('An error occurred. Please try again later.');}};fetchData();},[username]);return/*#__PURE__*/_jsxs(\"div\",{id:\"profile-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Profile\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),profileData&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Username: \",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:profileData.user.username})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:profileData.user.email})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/search'),className:\"search-button\",children:\"Search User\"})]})]});}export default Profile;","map":{"version":3,"names":["React","useContext","useEffect","useState","API_ENDPOINT","UserContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Profile","username","profileData","setProfileData","error","setError","navigate","fetchData","response","fetch","concat","method","headers","ok","data","json","errorData","message","id","children","className","user","email","onClick"],"sources":["D:/visualcode/myapp/frontend/front/src/api/profile.js"],"sourcesContent":["// components/Profile.js\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport API_ENDPOINT from './../api/index.js';\r\nimport { UserContext } from './../context/UserContext';\r\nimport './profile.css'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Profile() {\r\n  const { username } = useContext(UserContext);\r\n  const [profileData, setProfileData] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      //console.log(username)\r\n      try {\r\n        const response = await fetch(`${API_ENDPOINT}/profile/${username}`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          //console.log(data)\r\n          setProfileData(data);\r\n          //console.log(profileData);\r\n        } else {\r\n          const errorData = await response.json();\r\n          setError(errorData.message);\r\n        }\r\n      } catch (error) {\r\n        setError('An error occurred. Please try again later.');\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [username]);\r\n    \r\n  return (\r\n    <div id=\"profile-container\">\r\n      <h2>Profile</h2>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {profileData && (\r\n        <div className=\"profile-info\">\r\n          <p>\r\n            Username: <span className=\"highlight\">{profileData.user.username}</span>\r\n          </p>\r\n          <p>\r\n            Email: <span className=\"highlight\">{profileData.user.email}</span>\r\n          </p>\r\n          <button onClick={() => navigate('/search')} className=\"search-button\">\r\n            Search User\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,YAAY,KAAM,mBAAmB,CAC5C,OAASC,WAAW,KAAQ,0BAA0B,CACtD,MAAO,eAAe,CACtB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAAEC,QAAS,CAAC,CAAGX,UAAU,CAACI,WAAW,CAAC,CAC5C,KAAM,CAACQ,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAc,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9BJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B;AACA,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIjB,YAAY,cAAAiB,MAAA,CAAYT,QAAQ,EAAI,CAClEU,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClC;AACAZ,cAAc,CAACW,IAAI,CAAC,CACpB;AACF,CAAC,IAAM,CACL,KAAM,CAAAE,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACO,IAAI,CAAC,CAAC,CACvCV,QAAQ,CAACW,SAAS,CAACC,OAAO,CAAC,CAC7B,CACF,CAAE,MAAOb,KAAK,CAAE,CACdC,QAAQ,CAAC,4CAA4C,CAAC,CACxD,CACF,CAAC,CAEDE,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACN,QAAQ,CAAC,CAAC,CAEd,mBACEF,KAAA,QAAKmB,EAAE,CAAC,mBAAmB,CAAAC,QAAA,eACzBtB,IAAA,OAAAsB,QAAA,CAAI,SAAO,CAAI,CAAC,CACff,KAAK,eAAIP,IAAA,QAAKuB,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAEf,KAAK,CAAM,CAAC,CAC7CF,WAAW,eACVH,KAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3BpB,KAAA,MAAAoB,QAAA,EAAG,YACS,cAAAtB,IAAA,SAAMuB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEjB,WAAW,CAACmB,IAAI,CAACpB,QAAQ,CAAO,CAAC,EACvE,CAAC,cACJF,KAAA,MAAAoB,QAAA,EAAG,SACM,cAAAtB,IAAA,SAAMuB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAEjB,WAAW,CAACmB,IAAI,CAACC,KAAK,CAAO,CAAC,EACjE,CAAC,cACJzB,IAAA,WAAQ0B,OAAO,CAAEA,CAAA,GAAMjB,QAAQ,CAAC,SAAS,CAAE,CAACc,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,aAEtE,CAAQ,CAAC,EACN,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAnB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}